{"ast":null,"code":"import _Object$defineProperty from \"@babel/runtime-corejs2/core-js/object/define-property\";\nimport _Object$defineProperties from \"@babel/runtime-corejs2/core-js/object/define-properties\";\nimport _Object$getOwnPropertyDescriptors from \"@babel/runtime-corejs2/core-js/object/get-own-property-descriptors\";\nimport _Object$getOwnPropertyDescriptor from \"@babel/runtime-corejs2/core-js/object/get-own-property-descriptor\";\nimport _Object$getOwnPropertySymbols from \"@babel/runtime-corejs2/core-js/object/get-own-property-symbols\";\nimport _Object$keys from \"@babel/runtime-corejs2/core-js/object/keys\";\nimport _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nvar _jsxFileName = \"/Users/kwilliams/repositories/starhop/pages/StarHop.js\";\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = _Object$keys(object); if (_Object$getOwnPropertySymbols) { var symbols = _Object$getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return _Object$getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (_Object$getOwnPropertyDescriptors) { _Object$defineProperties(target, _Object$getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { _Object$defineProperty(target, key, _Object$getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { useState } from 'react';\nimport Link from 'next/link';\nimport { gql } from 'apollo-boost';\nimport { useQuery } from '@apollo/react-hooks';\nimport AdSense from 'react-adsense';\nimport { MdArrowBack, MdArrowDownward, MdArrowForward, MdArrowUpward } from 'react-icons/md';\nimport styled from 'styled-components';\nimport Header from '../styles/Header';\nimport StarMap from '../components/starmap/StarMap';\nimport { RA_TO_DEG } from '../utils';\nconst SELECTION_QUERY = gql`\n  query {\n    selectedHop @client {\n      id\n      hint\n      description\n      difficulty\n      startingLocation {\n        name\n        ra\n        dec\n      }\n      targetLocation {\n        ra\n        dec\n      }\n    }\n  }\n`;\nconst MapContainer = styled.div.withConfig({\n  displayName: \"StarHop__MapContainer\",\n  componentId: \"xyoqfu-0\"\n})([\"display:flex;justify-content:center;\"]);\n\nconst StarHop = () => {\n  const {\n    client,\n    data,\n    loading,\n    refetch\n  } = useQuery(SELECTION_QUERY);\n  const {\n    0: location,\n    1: setLocation\n  } = useState({\n    ra: -99,\n    dec: 0\n  });\n  const {\n    0: speed,\n    1: setSpeed\n  } = useState(1);\n\n  if (loading) {\n    // TODO add circle loader\n    return null;\n  } // set to starting location\n\n\n  if (location.ra === -99) {\n    // TODO select starting location earlier and use here.   For now use 1st starting loc\n    const location = data.selectedHop.startingLocation[0];\n    setLocation(location);\n  }\n\n  return __jsx(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61\n    },\n    __self: this\n  }, __jsx(Header, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62\n    },\n    __self: this\n  }), __jsx(AdSense.Google, {\n    client: \"ca-pub-6513320241703770\",\n    slot: \"9365940470\",\n    style: {\n      display: 'block'\n    },\n    layout: \"in-article\",\n    format: \"fluid\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63\n    },\n    __self: this\n  }), __jsx(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70\n    },\n    __self: this\n  }, __jsx(Link, {\n    href: \"/HopSelection\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71\n    },\n    __self: this\n  }, __jsx(\"button\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72\n    },\n    __self: this\n  }, __jsx(MdArrowBack, {\n    size: 20,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73\n    },\n    __self: this\n  })))), __jsx(MapContainer, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77\n    },\n    __self: this\n  }, __jsx(StarMap, {\n    size: 500,\n    mapParams: _objectSpread({\n      limitingMag: 7\n    }, location),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78\n    },\n    __self: this\n  }), __jsx(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79\n    },\n    __self: this\n  }, __jsx(\"button\", {\n    onClick: () => setLocation({\n      ra: location.ra,\n      dec: location.dec - speed\n    }),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80\n    },\n    __self: this\n  }, __jsx(MdArrowUpward, {\n    size: 30,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85\n    },\n    __self: this\n  })), __jsx(\"button\", {\n    onClick: () => setLocation({\n      ra: location.ra,\n      dec: location.dec + speed\n    }),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87\n    },\n    __self: this\n  }, __jsx(MdArrowDownward, {\n    size: 30,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92\n    },\n    __self: this\n  })), __jsx(\"button\", {\n    onClick: () => setLocation({\n      ra: location.ra - speed / RA_TO_DEG,\n      dec: location.dec\n    }),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94\n    },\n    __self: this\n  }, __jsx(MdArrowForward, {\n    size: 30,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102\n    },\n    __self: this\n  })), __jsx(\"button\", {\n    onClick: () => setLocation({\n      ra: location.ra + speed / RA_TO_DEG,\n      dec: location.dec - speed / 5\n    }),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104\n    },\n    __self: this\n  }, __jsx(MdArrowBack, {\n    size: 30,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112\n    },\n    __self: this\n  })))));\n};\n\nexport default StarHop;","map":{"version":3,"sources":["/Users/kwilliams/repositories/starhop/pages/StarHop.js"],"names":["React","useState","Link","gql","useQuery","AdSense","MdArrowBack","MdArrowDownward","MdArrowForward","MdArrowUpward","styled","Header","StarMap","RA_TO_DEG","SELECTION_QUERY","MapContainer","div","StarHop","client","data","loading","refetch","location","setLocation","ra","dec","speed","setSpeed","selectedHop","startingLocation","display","limitingMag"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport Link from 'next/link';\nimport { gql } from 'apollo-boost';\nimport { useQuery } from '@apollo/react-hooks';\nimport AdSense from 'react-adsense';\nimport {\n  MdArrowBack,\n  MdArrowDownward,\n  MdArrowForward,\n  MdArrowUpward\n} from 'react-icons/md';\nimport styled from 'styled-components';\n\nimport Header from '../styles/Header';\nimport StarMap from '../components/starmap/StarMap';\nimport { RA_TO_DEG } from '../utils';\n\nconst SELECTION_QUERY = gql`\n  query {\n    selectedHop @client {\n      id\n      hint\n      description\n      difficulty\n      startingLocation {\n        name\n        ra\n        dec\n      }\n      targetLocation {\n        ra\n        dec\n      }\n    }\n  }\n`;\n\nconst MapContainer = styled.div`\n  display: flex;\n  justify-content: center;\n`;\n\nconst StarHop = () => {\n  const { client, data, loading, refetch } = useQuery(SELECTION_QUERY);\n  const [location, setLocation] = useState({ ra: -99, dec: 0 });\n  const [speed, setSpeed] = useState(1);\n\n  if (loading) {\n    // TODO add circle loader\n    return null;\n  }\n\n  // set to starting location\n  if (location.ra === -99) {\n    // TODO select starting location earlier and use here.   For now use 1st starting loc\n    const location = data.selectedHop.startingLocation[0];\n    setLocation(location);\n  }\n\n  return (\n    <div>\n      <Header />\n      <AdSense.Google\n        client=\"ca-pub-6513320241703770\"\n        slot=\"9365940470\"\n        style={{ display: 'block' }}\n        layout=\"in-article\"\n        format=\"fluid\"\n      />\n      <div>\n        <Link href=\"/HopSelection\">\n          <button>\n            <MdArrowBack size={20} />\n          </button>\n        </Link>\n      </div>\n      <MapContainer>\n        <StarMap size={500} mapParams={{ limitingMag: 7, ...location }} />\n        <div>\n          <button\n            onClick={() =>\n              setLocation({ ra: location.ra, dec: location.dec - speed })\n            }\n          >\n            <MdArrowUpward size={30} />\n          </button>\n          <button\n            onClick={() =>\n              setLocation({ ra: location.ra, dec: location.dec + speed })\n            }\n          >\n            <MdArrowDownward size={30} />\n          </button>\n          <button\n            onClick={() =>\n              setLocation({\n                ra: location.ra - speed / RA_TO_DEG,\n                dec: location.dec\n              })\n            }\n          >\n            <MdArrowForward size={30} />\n          </button>\n          <button\n            onClick={() =>\n              setLocation({\n                ra: location.ra + speed / RA_TO_DEG,\n                dec: location.dec - speed / 5\n              })\n            }\n          >\n            <MdArrowBack size={30} />\n          </button>\n        </div>\n      </MapContainer>\n    </div>\n  );\n};\n\nexport default StarHop;\n"]},"metadata":{},"sourceType":"module"}